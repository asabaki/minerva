
<main class='top-view'>

  <div class="overview" >
    <h1 class="overview__heading">
      <mat-icon
        color="primary"
        style="display: inline-flex; vertical-align: middle;"
        >rss_feed</mat-icon
      >
      News feed
    </h1>

    <div class="overview__count">
      <div class="overview__count-average">3.5</div>
      <div class="overview__count-count">Overall Rating</div>
    </div>
  </div>

  <div *ngIf="!isLoaded" class="spinner">
    <mat-progress-spinner mode="indeterminate"></mat-progress-spinner>
  </div>
  <div class="detail" *ngIf="isLoaded">
    <div class="description-main">
      <!--<img class="activity-non" src="../../../assets/img/no_activities.png" alt="">-->
      <div class="activity">
        <div class="activity-top">
          <div class="activity-by">
            <div class="activity-owner">
              <div class="user">
                <img
                  class="user-img"
                  src="../../../assets/img/user/a.png"
                  alt=""
                />
                <div class="user-acc">
                  <span class="user-username activity-detail__username"
                    >Asi Baka</span
                  >
                </div>
              </div>
            </div>
            <div class="activity-time"><span>&bull;</span>30 mins ago</div>
          </div>
        </div>
        <div class="activity-detail">
          Just created new Flascard collection!
        </div>
        <button class="activity-see-more">
          See more<mat-icon>arrow_right</mat-icon>
        </button>
      </div>
      <div class="activity">
        <div class="activity-top">
          <div class="activity-by">
            <div class="activity-owner">
              <div class="user">
                <img
                  class="user-img"
                  src="../../../assets/img/user/k.png"
                  alt=""
                />
                <div class="user-acc">
                  <span class="user-username activity-detail__username"
                    >Kanpichcha Nokdam</span
                  >
                </div>
              </div>
            </div>
            <div class="activity-time"><span>&bull;</span>45 mins ago</div>
          </div>
        </div>
        <div class="activity-detail">
          Just created new Quiz collection!
        </div>
        <button class="activity-see-more">
          See more<mat-icon>arrow_right</mat-icon>
        </button>
      </div>
    </div>

    <div class="description-side">
      <div class="description-side__sub">
        <h1>Up comming :</h1>
        <div class="user-explore">
          <div class="user">
            <div class="days">
              <div class="days-num">05</div>
              days
            </div>
            <div class="user-acc">
              <span class="user-username">Math exam</span>
              <span class="user-detail">Starts at : 12:00</span>
              <span class="user-detail">Ends at : 14:00</span>
            </div>
          </div>
        </div>
        <button class="activity-see-more side-2" routerLink="/countdown">
          See more<mat-icon>arrow_right</mat-icon>
        </button>
      </div>

      <div class="description-side__sub">
        <h1>Trending :</h1>


        <div class="user-explore" *ngIf="isLoaded">
          <div class="user">
            <img class="user-img" src="../../../assets/img/quiz.png" alt="" />
            <div class="user-acc">
              <span class="user-username">{{trending[1].title}}</span>
              <span class="user-detail">Created by : {{trending[1].author}}</span>
            </div>
          </div>
          <button class="activity-see-more side-1" routerLink="/quiz/item/{{trending[1]._id}}">
            See more<mat-icon>arrow_right</mat-icon>
          </button>
        </div>
        <div class="user-explore">
          <div class="user">
            <img
              class="user-img"
              src="../../../assets/img/flashcard.png"
              alt=""
            />
            <div class="user-acc">
              <span class="user-username">{{trending[2].title}}</span>
              <span class="user-detail">Created by : {{trending[2].author}}</span>
            </div>
          </div>
          <button class="activity-see-more side-1" routerLink="/flash/item/{{trending[2]._id}}">
            See more<mat-icon>arrow_right</mat-icon>
          </button>
        </div>
        <div class="user-explore">
          <div class="user">
            <img class="user-img" src="../../../assets/img/note.png" alt="" />
            <div class="user-acc">
              <span class="user-username">{{trending[0].title}}</span>
              <span class="user-detail">Created by : {{trending[0].author}}</span>
            </div>
          </div>
          <button class="activity-see-more side-1" routerLink="/note/item/{{trending[0]._id}}">
            See more<mat-icon>arrow_right</mat-icon>
          </button>
        </div>
      </div>

      <div class="description-side__sub">
        <h1>Who to follow :</h1>
        <div class="user-explore" *ngFor="let user of top_users">
          <div class="user">
            <img
              class="user-img"
              [src]="user.url"
              alt=""
            />
            <div class="user-acc">
              <span class="user-username">{{ user.name }}</span>
              <span class="user-detail">small detail</span>
            </div>
          </div>
          <button
            mat-button
            matTooltip="Follow"
            class="btn-follow"
            *ngIf="!user.followed"
            (click)="onFollow(user._id)"
          >
            <span class="bold">+</span>Follow
          </button>
          <button
            mat-button
            matTooltip="Unfollow"
            class="btn-follow btn-follow-following"
            *ngIf="user.followed"
            (click)="onUnfollow(user._id)"
          >
            <span class="btn-follow-following__visible">
              &#10004;&nbsp;Following</span
            >
            <span class="btn-follow-following__invisible"
              >&#10006;&nbsp;Unfollow</span
            >
          </button>
        </div>

        <button (click)="search_dialog()" class="activity-see-more side-2">
          <mat-icon>search</mat-icon>Search
        </button>
      </div>
    </div>
  </div>
</main>
